p8105_hw2_wm2460
================
Wenyan Ma
2022-09-28

## Problem 1: NYC Transit data

#### Importing and tidying in data

``` r
nytransit_df = 
  read_csv("./HW2_Data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>% 
  select(line, starts_with('station'), starts_with('route'), entry, entrance_type, vending, ada, -station_location) %>%
  mutate(entry = ifelse(entry == "YES", TRUE, FALSE))
```

    ## Rows: 1868 Columns: 32
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (22): Division, Line, Station Name, Route1, Route2, Route3, Route4, Rout...
    ## dbl  (8): Station Latitude, Station Longitude, Route8, Route9, Route10, Rout...
    ## lgl  (2): ADA, Free Crossover
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

#### Short paragraph about the data

The cleaned NY transit data include variables like line, station_name,
station_latitude, station_longitude, route1, route2, route3, route4,
route5, route6, route7, route8, route9, route10, route11, entry,
entrance_type, vending, ada

After import the .csv file, my data cleaning processes include general
cleaning of the variable names, selecting necessary variables into the
data frame, and changing variable types.

The dimension of the cleaned NY transit data frame is 1868, 19

#### Answer the questions

-   How many distinct stations are there?
    -   There are 465 distinct stations.

``` r
nrow(distinct(nytransit_df, line, station_name))
```

    ## [1] 465

-   How many stations are ADA compliant?
    -   There are 468 stations that are ADA compliant.

``` r
nrow(filter(nytransit_df, ada == TRUE))
```

    ## [1] 468

-   What proportion of station entrances / exits without vending allow
    entrance?
    -   The proportion of station entrances / exists without vending
        allow entrance is 0.377.

``` r
#number of observations with no vending:
no_vending =
  nrow(filter(nytransit_df, vending == 'NO'))
no_vending
```

    ## [1] 183

``` r
#number of observations with entry but no vending: 
entry_true = 
  nrow(filter(nytransit_df, vending == 'NO', entry == 'TRUE'))
entry_true
```

    ## [1] 69

``` r
#proportion of station entrances / exits without vending allow entrance
proportion = entry_true/no_vending 
proportion
```

    ## [1] 0.3770492

#### Reformat route name and route number

## Problem 2

#### Read and clean the Mr. Trash Wheel sheet

``` r
mrtrash_df = 
  read_excel("./HW2_Data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = "Mr. Trash Wheel",
  range = "A2:N535") %>% 
  janitor::clean_names() %>% 
  na.omit() %>% 
  mutate(sports_balls = round(sports_balls), 
         sports_balls = as.integer(sports_balls))
```

#### Read and clean the Professor Trash Wheel sheet

``` r
proftrash_df = 
  read_excel("./HW2_Data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = "Professor Trash Wheel",
  range = "A2:N117") %>% 
  janitor::clean_names() %>% 
  na.omit() %>% 
  mutate(sports_balls = round(sports_balls), 
         sports_balls = as.integer(sports_balls))
```

#### Combine the two

``` r
mrtrash_df$dumpster = as.numeric(mrtrash_df$dumpster)

join_trash_df = 
  full_join(mrtrash_df, proftrash_df, by = "dumpster", 
            suffix = c(".Mr", ".PR"))
```

#### Description of the joined dataset

    The joined dataset combined the "Mr. Trash Wheel" and "Professor Trash Wheel" sheets. There are 453 observations and 27 variables in the joined dataset. 
    Some key variables include `weight_tons`, `volume_cubic_yards`, and `date`. 
    The total weight of trash collected by Professor Trash Wheel is 135.5 tons.
    The total number of sports balls collected by Mr. Trash Wheel in 2020 is 856.

## Problem 3

#### Clean pols-month.csv

``` r
pols_month = 
  read_csv("./HW2_Data/fivethirtyeight_datasets/pols-month.csv")
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
